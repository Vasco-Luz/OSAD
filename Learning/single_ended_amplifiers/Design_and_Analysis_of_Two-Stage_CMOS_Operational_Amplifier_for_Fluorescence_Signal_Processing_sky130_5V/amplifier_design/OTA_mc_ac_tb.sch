v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
L 4 -420 -770 -420 -610 {}
L 4 -420 -610 -100 -610 {}
L 4 -100 -790 -100 -610 {}
L 4 -420 -790 -100 -790 {}
L 4 -420 -790 -420 -770 {}
T {simulation scripts} -510 -870 0 0 1 1 {}
T {AC for monte carlo} 380 -420 0 0 0.4 0.4 {}
T {THis is a special resistor with an ac resistance and dc resistance, good for certain type of simulation tests} 240 -480 0 0 0.4 0.4 {}
N 130 -410 130 -390 {
lab=GND}
N 130 -510 130 -470 {
lab=VDD}
N 60 -410 60 -390 {
lab=GND}
N 720 -890 720 -850 {
lab=VSS}
N 500 -690 500 -640 {
lab=#net1}
N 720 -1190 720 -1150 {
lab=VDD}
N 830 -960 880 -960 {
lab=VOUT}
N 60 -510 60 -470 {
lab=VSS}
N 720 -1090 720 -1030 {
lab=#net2}
N 1030 -870 1030 -830 {
lab=VSS}
N 880 -960 1020 -960 {lab=VOUT}
N 1020 -960 1030 -960 {lab=VOUT}
N 1030 -960 1030 -930 {lab=VOUT}
N 500 -970 560 -970 {lab=VIN+}
N 500 -580 500 -560 {lab=GND}
N 500 -970 500 -750 {lab=VIN+}
N 610 -870 610 -820 {lab=Va}
N 610 -930 610 -870 {lab=Va}
N 610 -590 610 -550 {
lab=VSS}
N 610 -760 610 -730 {lab=#net3}
N 880 -960 880 -820 {lab=VOUT}
N 740 -770 740 -730 {
lab=VSS}
N 650 -770 740 -770 {lab=VSS}
N 610 -680 610 -650 {lab=#net3}
N 610 -730 610 -680 {lab=#net3}
N 870 -820 880 -820 {lab=VOUT}
N 780 -700 780 -660 {
lab=VSS}
N 780 -810 780 -760 {lab=#net4}
N 780 -810 800 -810 {lab=#net4}
N 650 -810 780 -810 {lab=#net4}
N 770 -100 770 -60 {
lab=VSS}
N 520 120 520 170 {
lab=#net5}
N 740 -380 740 -340 {
lab=VDD}
N 840 -140 890 -140 {
lab=VOUT_CM}
N 740 -280 740 -220 {
lab=VDD}
N 1040 -50 1040 -10 {
lab=VSS}
N 1030 -140 1040 -140 {lab=VOUT_CM}
N 1040 -140 1040 -110 {lab=VOUT_CM}
N 520 -160 580 -160 {lab=#net6}
N 520 230 520 250 {lab=GND}
N 520 -160 520 60 {lab=#net6}
N 630 -60 630 -10 {lab=#net7}
N 630 -120 630 -60 {lab=#net7}
N 890 -140 890 0 {lab=VOUT_CM}
N 760 40 760 80 {
lab=VSS}
N 670 40 760 40 {lab=VSS}
N 880 0 890 0 {lab=VOUT_CM}
N 800 110 800 150 {
lab=VSS}
N 800 0 800 50 {lab=#net8}
N 800 0 820 0 {lab=#net8}
N 670 0 800 0 {lab=#net8}
N 630 50 630 130 {lab=#net5}
N 520 130 630 130 {lab=#net5}
N 890 -140 1030 -140 {lab=VOUT_CM}
N 1470 -1050 1470 -1010 {
lab=VDD}
N 1570 -810 1620 -810 {
lab=VOUT_A-}
N 1470 -950 1470 -890 {
lab=VDD}
N 1350 -850 1440 -850 {lab=#net9}
N 1770 -720 1770 -680 {
lab=VSS}
N 1760 -810 1770 -810 {lab=VOUT_A-}
N 1770 -810 1770 -780 {lab=VOUT_A-}
N 1250 -540 1250 -520 {lab=GND}
N 1250 -830 1250 -610 {lab=#net9}
N 1360 -730 1360 -680 {lab=#net10}
N 1360 -790 1360 -730 {lab=#net10}
N 1620 -810 1620 -670 {lab=VOUT_A-}
N 1490 -630 1490 -590 {
lab=VSS}
N 1400 -630 1490 -630 {lab=VSS}
N 1610 -670 1620 -670 {lab=VOUT_A-}
N 1530 -560 1530 -520 {
lab=VSS}
N 1530 -670 1530 -620 {lab=#net11}
N 1530 -670 1550 -670 {lab=#net11}
N 1400 -670 1530 -670 {lab=#net11}
N 1360 -620 1360 -540 {lab=GND}
N 1250 -540 1360 -540 {lab=GND}
N 1620 -810 1760 -810 {lab=VOUT_A-}
N 1250 -550 1250 -540 {lab=GND}
N 1510 -780 1510 -760 {lab=#net12}
N 1510 -700 1510 -690 {lab=VSS}
N 1690 -450 1690 -410 {
lab=VDD}
N 1790 -210 1840 -210 {
lab=VOUT_A+}
N 1690 -350 1690 -290 {
lab=#net13}
N 1530 -230 1620 -230 {lab=#net14}
N 1990 -120 1990 -80 {
lab=VSS}
N 1980 -210 1990 -210 {lab=VOUT_A+}
N 1990 -210 1990 -180 {lab=VOUT_A+}
N 1470 -230 1530 -230 {lab=#net14}
N 1580 -190 1630 -190 {lab=#net15}
N 1470 60 1470 80 {lab=GND}
N 1470 -230 1470 -10 {lab=#net14}
N 1580 -130 1580 -80 {lab=#net15}
N 1580 -190 1580 -130 {lab=#net15}
N 1840 -210 1840 -70 {lab=VOUT_A+}
N 1710 -30 1710 10 {
lab=VSS}
N 1620 -30 1710 -30 {lab=VSS}
N 1830 -70 1840 -70 {lab=VOUT_A+}
N 1750 40 1750 80 {
lab=VSS}
N 1750 -70 1750 -20 {lab=#net16}
N 1750 -70 1770 -70 {lab=#net16}
N 1620 -70 1750 -70 {lab=#net16}
N 1580 -20 1580 60 {lab=GND}
N 1470 60 1580 60 {lab=GND}
N 1840 -210 1980 -210 {lab=VOUT_A+}
N 1470 50 1470 60 {lab=GND}
N 1690 -150 1690 -130 {lab=VSS}
N 1690 -130 1690 -120 {lab=VSS}
N 1470 -1010 1470 -950 {lab=VDD}
N 740 -340 740 -280 {lab=VDD}
N 610 -930 680 -930 {lab=Va}
N 560 -990 680 -990 {lab=VIN+}
N 560 -990 560 -970 {lab=VIN+}
N 810 -820 810 -810 {lab=#net4}
N 800 -810 810 -810 {lab=#net4}
N 1250 -850 1350 -850 {lab=#net9}
N 1250 -850 1250 -830 {lab=#net9}
N 1360 -790 1430 -790 {lab=#net10}
N 1470 -750 1510 -780 {lab=#net12}
N 1570 -810 1580 -820 {lab=VOUT_A-}
N 1790 -210 1800 -220 {lab=VOUT_A+}
N 1620 -230 1650 -250 {lab=#net14}
N 1630 -190 1650 -190 {lab=#net15}
N 840 -140 850 -150 {lab=VOUT_CM}
N 630 -120 700 -120 {lab=#net7}
N 580 -160 700 -180 {lab=#net6}
C {devices/lab_pin.sym} 130 -510 0 0 {name=p6 sig_type=std_logic lab=VDD}
C {devices/vsource.sym} 130 -440 0 0 {name=V1 value="VDD"

}
C {devices/gnd.sym} 130 -390 0 0 {name=l3 lab=GND}
C {devices/lab_pin.sym} 720 -850 0 0 {name=p1 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 60 -440 0 0 {name=V2 value="VSS"


}
C {devices/gnd.sym} 60 -390 0 0 {name=l1 lab=GND}
C {sky130_fd_pr/corner.sym} -390 -750 0 0 {name=CORNER only_toplevel=true corner=tt}
C {devices/code.sym} -240 -750 0 0 {name=spice only_toplevel=false
format="tcleval( @value )"
value="	
.Temp 27
.param VDD = 5
.param VSS = 0
.param CL = 3p
.param mc_mm_switch = 1


.control

	save all
	ac dec 100 1 10G
	plot db(v(VOUT))
	plot db(v(VOUT_CM))
	plot db(v(VOUT_A-))
	plot db(v(VOUT_A+))	
	wrdata mc_ac.csv db(v(VOUT)) phase(v(VOUT)) db(v(VOUT_CM)) db(v(VOUT_A-)) db(v(VOUT_A+))
	noise v(VOUT,VSS) V3 dec 10 1 10G
	setplot noise1

	plot onoise_spectrum inoise_spectrum

.endc

"}
C {devices/lab_pin.sym} 720 -1190 0 0 {name=p4 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 880 -960 2 0 {name=p5 sig_type=std_logic lab=VOUT
}
C {devices/lab_pin.sym} 60 -510 0 0 {name=p8 sig_type=std_logic lab=VSS
}
C {ammeter.sym} 720 -1120 0 0 {name=Vmeas savecurrent=true}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 750 -960 0 0 {name=x1}
C {capa.sym} 1030 -900 0 0 {name=C1
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1030 -830 0 0 {name=p9 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 500 -610 0 0 {name=V5 value= 2.5}
C {devices/gnd.sym} 500 -560 0 0 {name=l2 lab=GND}
C {devices/vsource.sym} 500 -720 0 0 {name=V3 value= "ac 0.5"}
C {devices/lab_pin.sym} 500 -870 0 0 {name=p2 sig_type=std_logic lab=VIN+
}
C {devices/lab_pin.sym} 610 -550 0 0 {name=p3 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 610 -620 0 0 {name=V4 value= "ac -0.5"}
C {vcvs.sym} 610 -790 0 1 {name=E1 value=1}
C {devices/lab_pin.sym} 740 -730 0 0 {name=p7 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 610 -890 0 0 {name=p10 sig_type=std_logic lab=Va
}
C {res_ac.sym} 840 -820 1 0 {name=R1
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 780 -730 0 0 {name=C2
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 780 -660 0 0 {name=p11 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 770 -60 0 0 {name=p12 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 740 -380 0 0 {name=p13 sig_type=std_logic lab=VDD}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 770 -150 0 0 {name=x2}
C {capa.sym} 1040 -80 0 0 {name=C3
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1040 -10 0 0 {name=p15 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 520 90 0 0 {name=V6 value= 2.5}
C {devices/gnd.sym} 520 250 0 0 {name=l4 lab=GND}
C {devices/vsource.sym} 520 200 0 0 {name=V7 value= "ac 1"}
C {vcvs.sym} 630 20 0 1 {name=E2 value=1}
C {devices/lab_pin.sym} 760 80 0 0 {name=p18 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 850 0 1 0 {name=R2
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 800 80 0 0 {name=C4
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 800 150 0 0 {name=p20 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 970 -140 1 0 {name=p14 sig_type=std_logic lab=VOUT_CM
}
C {devices/lab_pin.sym} 1510 -690 0 0 {name=p16 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1470 -1050 0 0 {name=p17 sig_type=std_logic lab=VDD}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 1500 -820 0 0 {name=x3}
C {capa.sym} 1770 -750 0 0 {name=C5
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1770 -680 0 0 {name=p19 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1250 -580 0 0 {name=V8 value= 2.5}
C {devices/gnd.sym} 1250 -520 0 0 {name=l5 lab=GND}
C {vcvs.sym} 1360 -650 0 1 {name=E3 value=1}
C {devices/lab_pin.sym} 1490 -590 0 0 {name=p21 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 1580 -670 1 0 {name=R3
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 1530 -590 0 0 {name=C6
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1530 -520 0 0 {name=p22 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1700 -810 1 0 {name=p23 sig_type=std_logic lab=VOUT_A-}
C {devices/vsource.sym} 1510 -730 0 0 {name=V9 value= "ac 1"}
C {devices/lab_pin.sym} 1690 -120 0 0 {name=p24 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1690 -450 0 0 {name=p25 sig_type=std_logic lab=VDD}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 1720 -220 0 0 {name=x4}
C {capa.sym} 1990 -150 0 0 {name=C7
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1990 -80 0 0 {name=p26 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1470 20 0 0 {name=V10 value= 2.5}
C {devices/gnd.sym} 1470 80 0 0 {name=l6 lab=GND}
C {vcvs.sym} 1580 -50 0 1 {name=E4 value=1}
C {devices/lab_pin.sym} 1710 10 0 0 {name=p27 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 1800 -70 1 0 {name=R4
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 1750 10 0 0 {name=C8
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1750 80 0 0 {name=p28 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1920 -210 1 0 {name=p29 sig_type=std_logic lab=VOUT_A+}
C {devices/vsource.sym} 1690 -380 2 0 {name=V11 value= "ac 1"}
