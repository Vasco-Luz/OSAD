v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
L 4 -420 -770 -420 -610 {}
L 4 -420 -610 -100 -610 {}
L 4 -100 -790 -100 -610 {}
L 4 -420 -790 -100 -790 {}
L 4 -420 -790 -420 -770 {}
T {simulation scripts} -510 -870 0 0 1 1 {}
T {AC for monte carlo} 380 -420 0 0 0.4 0.4 {}
T {THis is a special resistor with an ac resistance and dc resistance, good for certain type of simulation tests} 240 -480 0 0 0.4 0.4 {}
N 130 -410 130 -390 {
lab=GND}
N 130 -510 130 -470 {
lab=VDD}
N 60 -410 60 -390 {
lab=GND}
N 750 -910 750 -870 {
lab=VSS}
N 650 -970 700 -970 {
lab=VIN+}
N 500 -690 500 -640 {
lab=#net1}
N 750 -1150 750 -1110 {
lab=VDD}
N 820 -950 870 -950 {
lab=VOUT}
N 60 -510 60 -470 {
lab=VSS}
N 660 -930 700 -930 {
lab=Va}
N 750 -1050 750 -990 {
lab=#net2}
N 560 -970 650 -970 {lab=VIN+}
N 1020 -860 1020 -820 {
lab=VSS}
N 870 -950 1010 -950 {lab=VOUT}
N 1010 -950 1020 -950 {lab=VOUT}
N 1020 -950 1020 -920 {lab=VOUT}
N 500 -970 560 -970 {lab=VIN+}
N 610 -930 660 -930 {lab=Va}
N 500 -580 500 -560 {lab=GND}
N 500 -970 500 -750 {lab=VIN+}
N 610 -870 610 -820 {lab=Va}
N 610 -930 610 -870 {lab=Va}
N 610 -590 610 -550 {
lab=VSS}
N 610 -760 610 -730 {lab=#net3}
N 870 -950 870 -810 {lab=VOUT}
N 740 -770 740 -730 {
lab=VSS}
N 650 -770 740 -770 {lab=VSS}
N 610 -680 610 -650 {lab=#net3}
N 610 -730 610 -680 {lab=#net3}
N 860 -810 870 -810 {lab=VOUT}
N 780 -700 780 -660 {
lab=VSS}
N 780 -810 780 -760 {lab=#net4}
N 780 -810 800 -810 {lab=#net4}
N 650 -810 780 -810 {lab=#net4}
N 770 -100 770 -60 {
lab=VSS}
N 670 -160 720 -160 {
lab=#net5}
N 520 120 520 170 {
lab=#net6}
N 770 -340 770 -300 {
lab=VDD}
N 840 -140 890 -140 {
lab=VOUT_CM}
N 680 -120 720 -120 {
lab=#net7}
N 770 -240 770 -180 {
lab=VDD}
N 580 -160 670 -160 {lab=#net5}
N 1040 -50 1040 -10 {
lab=VSS}
N 1030 -140 1040 -140 {lab=VOUT_CM}
N 1040 -140 1040 -110 {lab=VOUT_CM}
N 520 -160 580 -160 {lab=#net5}
N 630 -120 680 -120 {lab=#net7}
N 520 230 520 250 {lab=GND}
N 520 -160 520 60 {lab=#net5}
N 630 -60 630 -10 {lab=#net7}
N 630 -120 630 -60 {lab=#net7}
N 890 -140 890 0 {lab=VOUT_CM}
N 760 40 760 80 {
lab=VSS}
N 670 40 760 40 {lab=VSS}
N 880 0 890 0 {lab=VOUT_CM}
N 800 110 800 150 {
lab=VSS}
N 800 0 800 50 {lab=#net8}
N 800 0 820 0 {lab=#net8}
N 670 0 800 0 {lab=#net8}
N 630 50 630 130 {lab=#net6}
N 520 130 630 130 {lab=#net6}
N 890 -140 1030 -140 {lab=VOUT_CM}
N 1400 -830 1450 -830 {
lab=#net9}
N 1500 -1010 1500 -970 {
lab=VDD}
N 1570 -810 1620 -810 {
lab=VOUT_A-}
N 1410 -790 1450 -790 {
lab=#net10}
N 1500 -910 1500 -850 {
lab=VDD}
N 1310 -830 1400 -830 {lab=#net9}
N 1770 -720 1770 -680 {
lab=VSS}
N 1760 -810 1770 -810 {lab=VOUT_A-}
N 1770 -810 1770 -780 {lab=VOUT_A-}
N 1250 -830 1310 -830 {lab=#net9}
N 1360 -790 1410 -790 {lab=#net10}
N 1250 -540 1250 -520 {lab=GND}
N 1250 -830 1250 -610 {lab=#net9}
N 1360 -730 1360 -680 {lab=#net10}
N 1360 -790 1360 -730 {lab=#net10}
N 1620 -810 1620 -670 {lab=VOUT_A-}
N 1490 -630 1490 -590 {
lab=VSS}
N 1400 -630 1490 -630 {lab=VSS}
N 1610 -670 1620 -670 {lab=VOUT_A-}
N 1530 -560 1530 -520 {
lab=VSS}
N 1530 -670 1530 -620 {lab=#net11}
N 1530 -670 1550 -670 {lab=#net11}
N 1400 -670 1530 -670 {lab=#net11}
N 1360 -620 1360 -540 {lab=GND}
N 1250 -540 1360 -540 {lab=GND}
N 1620 -810 1760 -810 {lab=VOUT_A-}
N 1250 -550 1250 -540 {lab=GND}
N 1500 -770 1500 -750 {lab=#net12}
N 1500 -690 1500 -680 {lab=VSS}
N 1620 -230 1670 -230 {
lab=#net13}
N 1720 -410 1720 -370 {
lab=VDD}
N 1790 -210 1840 -210 {
lab=VOUT_A+}
N 1630 -190 1670 -190 {
lab=#net14}
N 1720 -310 1720 -250 {
lab=#net15}
N 1530 -230 1620 -230 {lab=#net13}
N 1990 -120 1990 -80 {
lab=VSS}
N 1980 -210 1990 -210 {lab=VOUT_A+}
N 1990 -210 1990 -180 {lab=VOUT_A+}
N 1470 -230 1530 -230 {lab=#net13}
N 1580 -190 1630 -190 {lab=#net14}
N 1470 60 1470 80 {lab=GND}
N 1470 -230 1470 -10 {lab=#net13}
N 1580 -130 1580 -80 {lab=#net14}
N 1580 -190 1580 -130 {lab=#net14}
N 1840 -210 1840 -70 {lab=VOUT_A+}
N 1710 -30 1710 10 {
lab=VSS}
N 1620 -30 1710 -30 {lab=VSS}
N 1830 -70 1840 -70 {lab=VOUT_A+}
N 1750 40 1750 80 {
lab=VSS}
N 1750 -70 1750 -20 {lab=#net16}
N 1750 -70 1770 -70 {lab=#net16}
N 1620 -70 1750 -70 {lab=#net16}
N 1580 -20 1580 60 {lab=GND}
N 1470 60 1580 60 {lab=GND}
N 1840 -210 1980 -210 {lab=VOUT_A+}
N 1470 50 1470 60 {lab=GND}
N 1720 -170 1720 -150 {lab=VSS}
N 1720 -150 1720 -140 {lab=VSS}
N 1500 -970 1500 -910 {lab=VDD}
N 770 -300 770 -240 {lab=VDD}
C {devices/lab_pin.sym} 130 -510 0 0 {name=p6 sig_type=std_logic lab=VDD}
C {devices/vsource.sym} 130 -440 0 0 {name=V1 value="VDD"

}
C {devices/gnd.sym} 130 -390 0 0 {name=l3 lab=GND}
C {devices/lab_pin.sym} 750 -870 0 0 {name=p1 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 60 -440 0 0 {name=V2 value="VSS"


}
C {devices/gnd.sym} 60 -390 0 0 {name=l1 lab=GND}
C {sky130_fd_pr/corner.sym} -390 -740 0 0 {name=CORNER only_toplevel=true corner=mc}
C {devices/code.sym} -250 -740 0 0 {name=spice only_toplevel=false
format="tcleval( @value )"
value="	
.Temp 27
.param VDD = 5
.param VSS = 0
.param CL = 3p
.param mc_mm_switch = 1


.control

	save all
	ac dec 100 1 10G
	plot db(v(VOUT))
	plot db(v(VOUT_CM))
	plot db(v(VOUT_A-))
	plot db(v(VOUT_A+))	
	wrdata mc_ac.csv db(v(VOUT)) phase(v(VOUT)) db(v(VOUT_CM)) db(v(VOUT_A-)) db(v(VOUT_A+))
.endc
"}
C {devices/lab_pin.sym} 750 -1150 0 0 {name=p4 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 870 -950 2 0 {name=p5 sig_type=std_logic lab=VOUT
}
C {devices/lab_pin.sym} 60 -510 0 0 {name=p8 sig_type=std_logic lab=VSS
}
C {ammeter.sym} 750 -1080 0 0 {name=Vmeas savecurrent=true}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 750 -960 0 0 {name=x1}
C {capa.sym} 1020 -890 0 0 {name=C1
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1020 -820 0 0 {name=p9 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 500 -610 0 0 {name=V5 value= 2.5}
C {devices/gnd.sym} 500 -560 0 0 {name=l2 lab=GND}
C {devices/vsource.sym} 500 -720 0 0 {name=V3 value= "ac 0.5"}
C {devices/lab_pin.sym} 500 -870 0 0 {name=p2 sig_type=std_logic lab=VIN+
}
C {devices/lab_pin.sym} 610 -550 0 0 {name=p3 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 610 -620 0 0 {name=V4 value= "ac -0.5"}
C {vcvs.sym} 610 -790 0 1 {name=E1 value=1}
C {devices/lab_pin.sym} 740 -730 0 0 {name=p7 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 610 -890 0 0 {name=p10 sig_type=std_logic lab=Va
}
C {res_ac.sym} 830 -810 1 0 {name=R1
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 780 -730 0 0 {name=C2
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 780 -660 0 0 {name=p11 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 770 -60 0 0 {name=p12 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 770 -340 0 0 {name=p13 sig_type=std_logic lab=VDD}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 770 -150 0 0 {name=x2}
C {capa.sym} 1040 -80 0 0 {name=C3
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1040 -10 0 0 {name=p15 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 520 90 0 0 {name=V6 value= 2.5}
C {devices/gnd.sym} 520 250 0 0 {name=l4 lab=GND}
C {devices/vsource.sym} 520 200 0 0 {name=V7 value= "ac 1"}
C {vcvs.sym} 630 20 0 1 {name=E2 value=1}
C {devices/lab_pin.sym} 760 80 0 0 {name=p18 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 850 0 1 0 {name=R2
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 800 80 0 0 {name=C4
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 800 150 0 0 {name=p20 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 970 -140 1 0 {name=p14 sig_type=std_logic lab=VOUT_CM
}
C {devices/lab_pin.sym} 1500 -680 0 0 {name=p16 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1500 -1010 0 0 {name=p17 sig_type=std_logic lab=VDD}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 1500 -820 0 0 {name=x3}
C {capa.sym} 1770 -750 0 0 {name=C5
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1770 -680 0 0 {name=p19 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1250 -580 0 0 {name=V8 value= 2.5}
C {devices/gnd.sym} 1250 -520 0 0 {name=l5 lab=GND}
C {vcvs.sym} 1360 -650 0 1 {name=E3 value=1}
C {devices/lab_pin.sym} 1490 -590 0 0 {name=p21 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 1580 -670 1 0 {name=R3
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 1530 -590 0 0 {name=C6
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1530 -520 0 0 {name=p22 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1700 -810 1 0 {name=p23 sig_type=std_logic lab=VOUT_A-}
C {devices/vsource.sym} 1500 -720 0 0 {name=V9 value= "ac 1"}
C {devices/lab_pin.sym} 1720 -140 0 0 {name=p24 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1720 -410 0 0 {name=p25 sig_type=std_logic lab=VDD}
C {Sky130A/UUT_sky/UUT_VA_sky.sym} 1720 -220 0 0 {name=x4}
C {capa.sym} 1990 -150 0 0 {name=C7
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1990 -80 0 0 {name=p26 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1470 20 0 0 {name=V10 value= 2.5}
C {devices/gnd.sym} 1470 80 0 0 {name=l6 lab=GND}
C {vcvs.sym} 1580 -50 0 1 {name=E4 value=1}
C {devices/lab_pin.sym} 1710 10 0 0 {name=p27 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 1800 -70 1 0 {name=R4
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 1750 10 0 0 {name=C8
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1750 80 0 0 {name=p28 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1920 -210 1 0 {name=p29 sig_type=std_logic lab=VOUT_A+}
C {devices/vsource.sym} 1720 -340 2 0 {name=V11 value= "ac 1"}
