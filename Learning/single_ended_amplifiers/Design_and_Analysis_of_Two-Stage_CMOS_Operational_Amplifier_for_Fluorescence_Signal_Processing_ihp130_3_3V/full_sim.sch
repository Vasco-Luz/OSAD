v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N -470 -530 -470 -510 {
lab=GND}
N -470 -630 -470 -590 {
lab=VDD}
N -340 -530 -340 -510 {
lab=GND}
N -340 -630 -340 -590 {
lab=VSS}
N 440 -510 440 -470 {
lab=VSS}
N 180 -300 180 -250 {
lab=#net1}
N 180 -580 400 -580 {lab=VIN}
N 180 -190 180 -170 {lab=GND}
N 180 -580 180 -360 {lab=VIN}
N 290 -540 290 -430 {lab=#net2}
N 290 -200 290 -160 {
lab=VSS}
N 290 -370 290 -260 {lab=#net3}
N 290 -540 400 -540 {lab=#net2}
N 840 -470 840 -430 {
lab=VSS}
N 690 -560 840 -560 {lab=VOUT}
N 840 -560 840 -530 {lab=VOUT}
N 690 -560 690 -420 {lab=VOUT}
N 370 -380 370 -340 {
lab=VSS}
N 680 -420 690 -420 {lab=VOUT}
N 510 -560 690 -560 {lab=VOUT}
N 480 -420 620 -420 {lab=#net4}
N 330 -380 370 -380 {lab=VSS}
N 480 -330 480 -290 {
lab=VSS}
N 480 -420 480 -390 {lab=#net4}
N 330 -420 480 -420 {lab=#net4}
N 440 -650 440 -610 {
lab=#net5}
N 1050 -420 1050 -380 {
lab=#net6}
N 1570 -600 1570 -560 {
lab=VSS}
N 1570 -690 1570 -660 {lab=VOUT_cm}
N 1050 -710 1230 -710 {lab=#net7}
N 1050 -320 1050 -300 {lab=GND}
N 1050 -710 1050 -490 {lab=#net7}
N 1160 -670 1160 -560 {lab=#net8}
N 1420 -690 1420 -550 {lab=VOUT_cm}
N 1290 -510 1290 -470 {
lab=VSS}
N 1200 -510 1290 -510 {lab=VSS}
N 1410 -550 1420 -550 {lab=VOUT_cm}
N 1330 -440 1330 -400 {
lab=VSS}
N 1330 -550 1330 -500 {lab=#net9}
N 1330 -550 1350 -550 {lab=#net9}
N 1200 -550 1330 -550 {lab=#net9}
N 1160 -500 1160 -420 {lab=#net6}
N 1050 -420 1160 -420 {lab=#net6}
N 1420 -690 1570 -690 {lab=VOUT_cm}
N 1160 -670 1230 -670 {lab=#net8}
N 1340 -690 1420 -690 {lab=VOUT_cm}
N 1050 -430 1050 -420 {
lab=#net6}
N 1270 -640 1270 -590 {lab=VSS}
N 1270 -790 1270 -740 {lab=VDD}
N 440 -740 440 -710 {lab=VDD}
N 1360 -240 1360 -70 {
lab=VDD}
N 1460 0 1510 0 {
lab=VOUT_a-}
N 1660 90 1660 130 {
lab=VSS}
N 1660 0 1660 30 {lab=VOUT_a-}
N 1140 270 1140 290 {lab=GND}
N 1510 0 1510 140 {lab=VOUT_a-}
N 1380 180 1380 220 {
lab=VSS}
N 1290 180 1380 180 {lab=VSS}
N 1500 140 1510 140 {lab=VOUT_a-}
N 1420 250 1420 290 {
lab=VSS}
N 1420 140 1420 190 {lab=#net10}
N 1420 140 1440 140 {lab=#net10}
N 1290 140 1420 140 {lab=#net10}
N 1250 190 1250 270 {lab=GND}
N 1140 270 1250 270 {lab=GND}
N 1510 0 1660 0 {lab=VOUT_a-}
N 1140 260 1140 270 {lab=GND}
N 1400 110 1400 120 {lab=VSS}
N 1140 -40 1330 -40 {lab=#net11}
N 1140 -40 1140 200 {lab=#net11}
N 1250 0 1330 -0 {lab=#net12}
N 1250 0 1250 130 {lab=#net12}
N 1370 30 1370 50 {lab=#net13}
N 1370 50 1400 50 {lab=#net13}
N 1440 -20 1460 -20 {lab=VOUT_a-}
N 1460 -20 1460 -0 {lab=VOUT_a-}
N 1360 -70 1370 -70 {lab=VDD}
N 460 -100 460 -60 {
lab=VDD}
N 760 230 760 270 {
lab=VSS}
N 760 140 760 170 {lab=VOUT_a+}
N 240 120 420 120 {lab=#net14}
N 350 160 420 160 {lab=#net15}
N 240 410 240 430 {lab=GND}
N 240 120 240 340 {lab=#net14}
N 350 160 350 270 {lab=#net15}
N 610 140 610 280 {lab=VOUT_a+}
N 480 320 480 360 {
lab=VSS}
N 390 320 480 320 {lab=VSS}
N 600 280 610 280 {lab=VOUT_a+}
N 520 390 520 430 {
lab=VSS}
N 520 280 520 330 {lab=#net16}
N 520 280 540 280 {lab=#net16}
N 390 280 520 280 {lab=#net16}
N 350 330 350 410 {lab=GND}
N 240 410 350 410 {lab=GND}
N 610 140 760 140 {lab=VOUT_a+}
N 240 400 240 410 {lab=GND}
N 530 140 610 140 {lab=VOUT_a+}
N 460 -0 460 90 {lab=#net17}
N 460 190 460 230 {lab=VSS}
C {devices/lab_pin.sym} -470 -630 0 0 {name=p6 sig_type=std_logic lab=VDD}
C {devices/vsource.sym} -470 -560 0 0 {name=V1 value="VDD"

}
C {devices/gnd.sym} -470 -510 0 0 {name=l3 lab=GND}
C {devices/vsource.sym} -340 -560 0 0 {name=V2 value="VSS"


}
C {devices/gnd.sym} -340 -510 0 0 {name=l1 lab=GND}
C {devices/lab_pin.sym} -340 -630 0 0 {name=p8 sig_type=std_logic lab=VSS
}
C {devices/code_shown.sym} -1020 -960 0 0 {name=MODEL only_toplevel=true
format="tcleval( @value )"
value="
.lib $::SG13G2_MODELS/cornerRES.lib res_typ
"}
C {devices/code_shown.sym} -1020 -870 0 0 {name=MODEL2 only_toplevel=true
format="tcleval( @value )"
value="
.lib cornerMOShv.lib mos_tt
"}
C {devices/code_shown.sym} -1010 -780 0 0 {name=MODEL1 only_toplevel=true
format="tcleval( @value )"
value="
.lib $::SG13G2_MODELS/cornerCAP.lib cap_typ
"}
C {devices/code_shown.sym} -980 -630 0 0 {name=NGSPICE only_toplevel=true 
name=COMMANDS
simulator=ngspice
place=end
value="
.param VDD = 3.3
.param VSS = 0
.param VCM = 1.65
.param V_OFF =-386u

.param mm_ok=0
.param mc_ok=0

.param temp=27
.control
save all 
ac dec 1000 1 10G
plot db(v(VOUT)) (180+(180*ph(v(VOUT))/pi))
plot (db(v(VOUT)) - db(v(VOUT_CM)))
plot (db(v(VOUT)) - db(v(VOUT_A-)))
plot (db(v(VOUT))- db(v(VOUT_A+)))

op
print (-3.3*i(Vmeas))
print (1.65-v(VOUT))

.endc
"}
C {devices/lab_pin.sym} 440 -470 0 0 {name=p4 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 180 -220 0 0 {name=V3 value= "VCM"}
C {devices/gnd.sym} 180 -170 0 0 {name=l4 lab=GND}
C {devices/vsource.sym} 180 -330 0 0 {name=V4 value= "ac 0.5"}
C {devices/lab_pin.sym} 290 -160 0 0 {name=p5 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 290 -230 0 0 {name=V6 value= "ac -0.5"}
C {vcvs.sym} 290 -400 0 1 {name=E1 value=1}
C {devices/lab_pin.sym} 690 -560 2 0 {name=p10 sig_type=std_logic lab=VOUT
}
C {capa.sym} 840 -500 0 0 {name=C2
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 840 -430 0 0 {name=p11 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 370 -340 0 0 {name=p12 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 650 -420 1 0 {name=R1
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 480 -360 0 0 {name=C3
m=1
value=1
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 480 -290 0 0 {name=p13 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 180 -530 2 0 {name=p14 sig_type=std_logic lab=VIN}
C {ihp-sg13g2/Amplifiers/Va001_ihp-sg13g2_3_3.sym} 450 -560 0 0 {name=x2}
C {devices/lab_pin.sym} 440 -740 0 0 {name=p1 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 1270 -590 0 0 {name=p32 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1270 -790 0 0 {name=p33 sig_type=std_logic lab=VDD}
C {capa.sym} 1570 -630 0 0 {name=C7
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1570 -560 0 0 {name=p34 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1050 -460 0 0 {name=V19 value= "VCM"}
C {devices/gnd.sym} 1050 -300 0 0 {name=l8 lab=GND}
C {devices/vsource.sym} 1050 -350 0 0 {name=V20 value= "ac 1"}
C {vcvs.sym} 1160 -530 0 1 {name=E2 value=1}
C {devices/lab_pin.sym} 1290 -470 0 0 {name=p35 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 1380 -550 1 0 {name=R2
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 1330 -470 0 0 {name=C8
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1330 -400 0 0 {name=p36 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1510 -690 1 0 {name=p37 sig_type=std_logic lab=VOUT_cm

}
C {ihp-sg13g2/Amplifiers/Va001_ihp-sg13g2_3_3.sym} 1280 -690 0 0 {name=x1}
C {ammeter.sym} 440 -680 0 0 {name=Vmeas savecurrent=true}
C {devices/lab_pin.sym} 1400 120 0 0 {name=p38 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1360 -240 0 0 {name=p39 sig_type=std_logic lab=VDD}
C {capa.sym} 1660 60 0 0 {name=C9
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1660 130 0 0 {name=p40 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1140 230 0 0 {name=V21 value= "VCM"}
C {devices/gnd.sym} 1140 290 0 0 {name=l9 lab=GND}
C {vcvs.sym} 1250 160 0 1 {name=E3 value=1}
C {devices/lab_pin.sym} 1380 220 0 0 {name=p41 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 1470 140 1 0 {name=R3
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 1420 220 0 0 {name=C10
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 1420 290 0 0 {name=p42 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 1400 80 0 0 {name=V22 value= "ac 1"}
C {devices/lab_pin.sym} 1580 0 1 0 {name=p43 sig_type=std_logic lab=VOUT_a-

}
C {ihp-sg13g2/Amplifiers/Va001_ihp-sg13g2_3_3.sym} 1380 -20 0 0 {name=x3}
C {devices/lab_pin.sym} 460 230 0 0 {name=p44 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 460 -100 0 0 {name=p45 sig_type=std_logic lab=VDD}
C {capa.sym} 760 200 0 0 {name=C11
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 760 270 0 0 {name=p46 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 240 370 0 0 {name=V23 value= "VCM"}
C {devices/gnd.sym} 240 430 0 0 {name=l10 lab=GND}
C {vcvs.sym} 350 300 0 1 {name=E4 value=1}
C {devices/lab_pin.sym} 480 360 0 0 {name=p47 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 570 280 1 0 {name=R4
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 520 360 0 0 {name=C12
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 520 430 0 0 {name=p48 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 460 -30 2 0 {name=V24 value= "ac 1"}
C {devices/lab_pin.sym} 690 140 1 0 {name=p49 sig_type=std_logic lab=VOUT_a+

}
C {ihp-sg13g2/Amplifiers/Va001_ihp-sg13g2_3_3.sym} 470 140 0 0 {name=x4}
