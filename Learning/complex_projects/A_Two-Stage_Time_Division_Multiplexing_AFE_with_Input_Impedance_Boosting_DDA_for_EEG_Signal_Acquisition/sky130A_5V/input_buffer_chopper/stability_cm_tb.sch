v {xschem version=3.4.6 file_version=1.2}
G {}
K {}
V {}
S {}
E {}
L 4 -390 380 -390 540 {}
L 4 -390 540 -70 540 {}
L 4 -70 360 -70 540 {}
L 4 -390 360 -70 360 {}
L 4 -390 360 -390 380 {}
N -150 730 -150 750 {
lab=GND}
N -150 630 -150 670 {
lab=VDD}
N -220 730 -220 750 {
lab=GND}
N -220 630 -220 670 {
lab=VSS}
N 70 120 70 140 {lab=VDD}
N 70 220 70 260 {lab=VSS}
N 110 180 150 180 {lab=VREF}
N -60 730 -60 750 {
lab=GND}
N -60 630 -60 670 {
lab=VCM}
N 840 700 840 740 {
lab=VSS}
N 840 610 840 640 {lab=VOP}
N 660 610 840 610 {lab=VOP}
N 950 640 950 680 {
lab=VSS}
N 950 550 950 580 {lab=VON}
N 660 550 950 550 {lab=VON}
N 1170 1040 1610 1040 {lab=VCMFB}
N 1130 1010 1130 1040 {lab=VDD}
N 1130 950 1130 1010 {lab=VDD}
N 1130 950 1650 950 {lab=VDD}
N 1650 950 1650 1040 {lab=VDD}
N 1130 1070 1130 1190 {lab=VA2}
N 1130 1190 1270 1190 {lab=VA2}
N 990 1220 1270 1220 {lab=VSS}
N 1650 1070 1650 1190 {lab=VA1}
N 1510 1220 1790 1220 {lab=VSS}
N 1510 1190 1650 1190 {lab=VA1}
N 990 1130 990 1190 {lab=VA1}
N 990 1130 1650 1130 {lab=VA1}
N 1790 1150 1790 1190 {lab=VA2}
N 1130 1150 1790 1150 {lab=VA2}
N 1310 1220 1350 1220 {lab=VCM}
N 1430 1220 1470 1220 {lab=VCM}
N 1830 1220 1870 1220 {lab=VCM}
N 910 1220 950 1220 {lab=VCM}
N 990 1250 990 1370 {lab=#net1}
N 990 1370 1270 1370 {lab=#net1}
N 1270 1250 1270 1370 {lab=#net1}
N 1130 1370 1130 1460 {lab=#net1}
N 1130 1490 1130 1520 {lab=VSS}
N 1130 1520 1130 1570 {lab=VSS}
N 1650 1370 1650 1460 {lab=#net2}
N 1650 1490 1650 1520 {lab=VSS}
N 1650 1520 1650 1570 {lab=VSS}
N 1790 1250 1790 1370 {lab=#net2}
N 1510 1250 1510 1370 {lab=#net2}
N 1510 1370 1790 1370 {lab=#net2}
N 1170 1490 1610 1490 {lab=VB}
N 1130 1570 1650 1570 {lab=VSS}
N 790 1090 1130 1090 {lab=VA2}
N 750 1060 750 1090 {lab=VDD}
N 750 950 750 1060 {lab=VDD}
N 750 950 1130 950 {lab=VDD}
N 750 1120 750 1210 {lab=VON}
N 750 1210 750 1470 {lab=VON}
N 750 1490 750 1520 {lab=VSS}
N 750 1570 1130 1570 {lab=VSS}
N 750 1520 750 1570 {lab=VSS}
N 790 1490 830 1490 {lab=VB}
N 1650 1090 1990 1090 {lab=VA1}
N 2030 950 2030 980 {lab=VDD}
N 2030 980 2030 1090 {lab=VDD}
N 2030 1120 2030 1210 {lab=VOP}
N 2030 1210 2030 1470 {lab=VOP}
N 2030 1520 2030 1570 {lab=VSS}
N 1950 1490 1990 1490 {lab=VB}
N 1650 1570 2030 1570 {lab=VSS}
N 2030 1490 2030 1520 {lab=VSS}
N 1650 950 2030 950 {lab=VDD}
N 280 950 750 950 {lab=VDD}
N 280 1570 750 1570 {lab=VSS}
N 280 980 280 1010 {lab=VDD}
N 200 1010 240 1010 {lab=VREF}
N 280 1040 280 1300 {lab=VB}
N 280 1450 280 1490 {lab=#net3}
N 280 1300 280 1390 {lab=VB}
N 170 1420 260 1420 {lab=VSS}
N 320 1520 410 1520 {lab=VB}
N 410 1360 410 1520 {lab=VB}
N 280 1360 410 1360 {lab=VB}
N 280 950 280 980 {lab=VDD}
N 170 1420 170 1570 {lab=VSS}
N 170 1570 280 1570 {lab=VSS}
N 280 1550 280 1570 {lab=VSS}
N 280 1520 280 1550 {lab=VSS}
N 860 1180 890 1180 {lab=#net4}
N 750 1180 800 1180 {lab=VON}
N 1890 1180 1920 1180 {lab=#net5}
N 1980 1180 2030 1180 {lab=VOP}
N 890 1090 890 1110 {lab=VA2}
N 860 1140 890 1140 {lab=VDD}
N 860 950 860 1140 {lab=VDD}
N 890 1170 890 1180 {lab=#net4}
N 1890 1090 1890 1100 {lab=VA1}
N 1890 1160 1890 1180 {lab=#net5}
N 1890 1130 1910 1130 {lab=VDD}
N 1910 950 1910 1130 {lab=VDD}
N 2550 1490 2590 1490 {lab=VB}
N 2630 1490 2630 1520 {lab=VSS}
N 2630 1520 2630 1550 {lab=VSS}
N 2630 1550 2630 1570 {lab=VSS}
N 2030 1570 2630 1570 {lab=VSS}
N 2410 1410 2410 1460 {lab=#net6}
N 2410 1460 2630 1460 {lab=#net6}
N 2630 1460 2850 1460 {lab=#net6}
N 2850 1410 2850 1460 {lab=#net6}
N 2410 1270 2410 1410 {lab=#net6}
N 2850 1270 2850 1410 {lab=#net6}
N 2410 1240 2850 1240 {lab=VSS}
N 2850 1070 2850 1210 {lab=VCMFB}
N 2850 1010 2850 1040 {lab=VDD}
N 2030 950 2850 950 {lab=VDD}
N 2850 950 2850 1000 {lab=VDD}
N 2850 1000 2850 1010 {lab=VDD}
N 2410 1070 2410 1210 {lab=#net7}
N 2410 950 2410 1040 {lab=VDD}
N 2450 1040 2810 1040 {lab=#net7}
N 2630 1040 2630 1130 {lab=#net7}
N 2410 1130 2630 1130 {lab=#net7}
N 2350 1240 2370 1240 {lab=VCM}
N 2990 1240 2990 1250 {lab=#net8}
N 2990 1230 2990 1240 {lab=#net8}
N 2990 1140 2990 1170 {lab=#net9}
N 2990 1310 2990 1340 {lab=#net10}
N 2890 1240 2990 1240 {lab=#net8}
N 2930 1280 2970 1280 {lab=VSS}
N 2930 1280 2930 1390 {lab=VSS}
N 2930 1200 2970 1200 {lab=VSS}
N 2930 1200 2930 1280 {lab=VSS}
N 2930 1390 2930 1570 {lab=VSS}
N 2630 1570 2930 1570 {lab=VSS}
N 3260 1060 3260 1100 {
lab=VSS}
N 3170 1060 3260 1060 {lab=VSS}
N 3380 1020 3390 1020 {lab=VOP}
N 3300 1130 3300 1170 {
lab=VSS}
N 3300 1020 3300 1070 {lab=#net11}
N 3300 1020 3320 1020 {lab=#net11}
N 3170 1020 3300 1020 {lab=#net11}
N 3130 950 3130 1010 {lab=#net12}
N 2990 950 3130 950 {lab=#net12}
N 2990 950 2990 1010 {lab=#net12}
N 2990 1010 2990 1030 {lab=#net12}
N 2990 1090 2990 1140 {lab=#net9}
N 3130 1070 3130 1100 {lab=VSS}
N 3120 1470 3120 1510 {
lab=VSS}
N 3030 1470 3120 1470 {lab=VSS}
N 3240 1430 3250 1430 {lab=VON}
N 3160 1540 3160 1580 {
lab=VSS}
N 3160 1430 3160 1480 {lab=#net13}
N 3160 1430 3180 1430 {lab=#net13}
N 3030 1430 3160 1430 {lab=#net13}
N 2990 1480 2990 1510 {lab=VSS}
N 2990 1400 2990 1420 {lab=#net14}
N 2370 1680 2400 1680 {lab=VA2}
N 2890 1190 2890 1240 {lab=#net8}
N 2520 1680 2560 1680 {lab=#net15}
N 2460 1680 2520 1680 {lab=#net15}
N 2590 1570 2590 1660 {lab=VSS}
N 2620 1680 2640 1680 {lab=VCMFB}
N 1940 1680 1970 1680 {lab=VA1}
N 2090 1680 2130 1680 {lab=#net16}
N 2030 1680 2090 1680 {lab=#net16}
N 2190 1680 2210 1680 {lab=VCMFB}
N 2160 1570 2160 1660 {lab=VSS}
C {devices/lab_pin.sym} -150 630 0 0 {name=p6 sig_type=std_logic lab=VDD}
C {devices/vsource.sym} -150 700 0 0 {name=V1 value="VDD"

}
C {devices/gnd.sym} -150 750 0 0 {name=l3 lab=GND}
C {devices/vsource.sym} -220 700 0 0 {name=V2 value="VSS"


}
C {devices/gnd.sym} -220 750 0 0 {name=l1 lab=GND}
C {sky130_fd_pr/corner.sym} -350 410 0 0 {name=CORNER only_toplevel=true corner=tt}
C {devices/lab_pin.sym} -220 630 0 0 {name=p8 sig_type=std_logic lab=VSS
}
C {devices/code.sym} -220 410 0 0 {name=spice only_toplevel=false
format="tcleval( @value )"
value="	
.Temp 27
.param VDD = 5
.param VSS = 0
.param CL = 3p
.param V_OFF = -400u
.param VCM = 2.5


.control

	save all
	ac dec 100 1 10G
	plot db(v(VOP)) ((180*ph(v(VOP))/pi))	
	op
	print v(VOP)
	print (5*-I(V1))
	*tran 100p 10u
	*plot v(VOP)

.endc



"}
C {Sky130A/references/EEG_current_reference.sym} 70 190 0 0 {name=x1}
C {devices/lab_pin.sym} 70 120 0 0 {name=p3 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 70 260 0 0 {name=p4 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 150 180 0 1 {name=p5 sig_type=std_logic lab=VREF}
C {devices/vsource.sym} -60 700 0 0 {name=V3 value="VCM"

}
C {devices/gnd.sym} -60 750 0 0 {name=l2 lab=GND
value="VCM"}
C {devices/lab_pin.sym} -60 630 0 0 {name=p9 sig_type=std_logic lab=VCM}
C {capa.sym} 840 670 0 0 {name=C5
m=1
value=2p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 840 740 0 0 {name=p26 sig_type=std_logic lab=VSS
}
C {capa.sym} 950 610 0 0 {name=C1
m=1
value=2p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 950 680 0 0 {name=p11 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 1400 1040 1 0 {name=p13 sig_type=std_logic lab=VCMFB}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 1150 1040 0 1 {name=M2
L=2
W=1
nf=2 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 970 1220 0 0 {name=M3
L=1
W=3
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 1130 1220 3 0 {name=p14 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 1650 1220 3 0 {name=p15 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 1380 1490 1 1 {name=p18 sig_type=std_logic lab=VB}
C {devices/lab_pin.sym} 1380 1570 3 0 {name=p19 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 830 1490 1 1 {name=p20 sig_type=std_logic lab=VB}
C {devices/lab_pin.sym} 1950 1490 3 0 {name=p21 sig_type=std_logic lab=VB}
C {devices/lab_pin.sym} 750 1250 0 0 {name=p24 sig_type=std_logic lab=VON}
C {devices/lab_pin.sym} 2030 1240 2 0 {name=p25 sig_type=std_logic lab=VOP}
C {devices/lab_pin.sym} 1310 950 1 0 {name=p27 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 200 1010 2 1 {name=p28 sig_type=std_logic lab=VREF}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 300 1520 0 1 {name=M13
L=3
W=1
nf=2 mult=2
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/res_high_po_0p35.sym} 280 1420 0 0 {name=R1
L=26
model=res_high_po_0p35
spiceprefix=X
mult=1}
C {devices/lab_pin.sym} 410 1400 0 1 {name=p29 sig_type=std_logic lab=VB}
C {devices/lab_pin.sym} 280 950 0 0 {name=p44 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 260 1010 0 0 {name=M14
L=2.5
W=1
nf=2 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 1150 1490 0 1 {name=M7
L=3
W=1
nf=2 mult=2
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 1630 1490 0 0 {name=M8
L=3
W=1
nf=2 mult=2
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 770 1490 0 1 {name=M10
L=3
W=1
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 2010 1490 0 0 {name=M12
L=3
W=1
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 1630 1040 0 0 {name=M1
L=2
W=1
nf=2 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 1290 1220 0 1 {name=M6
L=1
W=3
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 1810 1220 0 1 {name=M5
L=1
W=3
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 1490 1220 0 0 {name=M4
L=1
W=3
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 2010 1090 0 0 {name=M9
L=0.7
W=5
nf=4 mult=4
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 770 1090 0 1 {name=M11
L=0.7
W=5
nf=4 mult=4
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 930 1140 0 1 {name=p30 sig_type=std_logic lab=VB}
C {devices/lab_pin.sym} 1850 1130 2 1 {name=p45 sig_type=std_logic lab=VB}
C {devices/lab_pin.sym} 2550 1490 3 0 {name=p46 sig_type=std_logic lab=VB}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 2610 1490 0 0 {name=M17
L=3
W=1
nf=2 mult=2
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 2390 1240 0 0 {name=M18
L=1
W=4
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5_nf.sym} 2870 1240 0 1 {name=M19
L=1
W=4
nf=2 mult=4
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 2630 1240 3 0 {name=p47 sig_type=std_logic lab=VSS}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 2430 1040 0 1 {name=M21
L=3
W=1
nf=2 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 2850 1150 2 0 {name=p48 sig_type=std_logic lab=VCMFB}
C {devices/lab_pin.sym} 2350 1240 0 0 {name=p49 sig_type=std_logic lab=VCM}
C {devices/lab_pin.sym} 3390 1020 2 0 {name=p50 sig_type=std_logic lab=VOP}
C {devices/lab_pin.sym} 3250 1430 2 0 {name=p51 sig_type=std_logic lab=VON}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 2830 1040 0 0 {name=M20
L=3
W=1
nf=2 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 660 550 0 0 {name=p1 sig_type=std_logic lab=VON}
C {devices/lab_pin.sym} 660 610 2 1 {name=p2 sig_type=std_logic lab=VOP}
C {devices/lab_pin.sym} 910 1220 0 0 {name=p7 sig_type=std_logic lab=VCM}
C {devices/lab_pin.sym} 1350 1220 0 1 {name=p10 sig_type=std_logic lab=VCM}
C {devices/lab_pin.sym} 1430 1220 1 1 {name=p12 sig_type=std_logic lab=VCM}
C {devices/lab_pin.sym} 1870 1220 1 1 {name=p16 sig_type=std_logic lab=VCM}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2990 1200 0 0 {name=R3
W=0.35
L=50
model=res_xhigh_po_0p35
spiceprefix=X
 mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2990 1280 0 0 {name=R2
W=0.35
L=50
model=res_xhigh_po_0p35
spiceprefix=X
 mult=1}
C {devices/lab_pin.sym} 3280 1000 0 0 {name=p38 sig_type=std_logic lab=VSS
}
C {vcvs.sym} 3130 1040 0 1 {name=E3 value=1}
C {devices/lab_pin.sym} 3260 1100 0 0 {name=p41 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 3350 1020 1 0 {name=R4
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 3300 1100 0 0 {name=C10
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 3300 1170 0 0 {name=p42 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 2990 1060 2 0 {name=V24 value= "ac 1"}
C {devices/lab_pin.sym} 3130 1100 0 0 {name=p17 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 3140 1410 0 0 {name=p23 sig_type=std_logic lab=VSS
}
C {vcvs.sym} 2990 1450 0 1 {name=E1 value=1}
C {devices/lab_pin.sym} 3120 1510 0 0 {name=p31 sig_type=std_logic lab=VSS
}
C {res_ac.sym} 3210 1430 1 0 {name=R5
value=1k
ac=1000000000000G
m=1}
C {capa.sym} 3160 1510 0 0 {name=C4
m=1
value=3p
footprint=1206
device="ceramic capacitor"}
C {devices/lab_pin.sym} 3160 1580 0 0 {name=p32 sig_type=std_logic lab=VSS
}
C {devices/lab_pin.sym} 2990 1510 0 0 {name=p33 sig_type=std_logic lab=VSS
}
C {devices/vsource.sym} 2990 1370 0 0 {name=V4 value= "ac 1"}
C {devices/lab_pin.sym} 2640 1680 2 0 {name=p22 sig_type=std_logic lab=VCMFB}
C {sky130_fd_pr/cap_mim_m3_2.sym} 2000 1680 1 0 {name=C6 model=cap_mim_m3_2 W=10 L=10 MF=8 spiceprefix=X}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2160 1680 1 0 {name=R7
W=0.35
L=10
model=res_xhigh_po_0p35
spiceprefix=X
 mult=1}
C {devices/lab_pin.sym} 2210 1680 2 0 {name=p35 sig_type=std_logic lab=VCMFB}
C {devices/lab_pin.sym} 1760 1090 3 0 {name=p34 sig_type=std_logic lab=VA1}
C {devices/lab_pin.sym} 980 1090 3 0 {name=p36 sig_type=std_logic lab=VA2}
C {devices/lab_pin.sym} 1940 1680 0 0 {name=p37 sig_type=std_logic lab=VA1}
C {devices/lab_pin.sym} 2370 1680 0 0 {name=p39 sig_type=std_logic lab=VA2}
C {sky130_fd_pr/cap_mim_m3_2.sym} 2430 1680 1 0 {name=C7 model=cap_mim_m3_2 W=10 L=10 MF=8 spiceprefix=X}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} 2590 1680 1 0 {name=R6
W=0.35
L=10
model=res_xhigh_po_0p35
spiceprefix=X
 mult=1}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 910 1140 0 1 {name=M15
L=4
W=0.65
nf=1 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/cap_mim_m3_2.sym} 830 1180 1 0 {name=C2 model=cap_mim_m3_2 W=5.8 L=5.8 MF=4 spiceprefix=X}
C {sky130_fd_pr/cap_mim_m3_2.sym} 1950 1180 1 0 {name=C3 model=cap_mim_m3_2 W=5.8 L=5.8 MF=4 spiceprefix=X}
C {sky130_fd_pr/pfet_g5v0d10v5_nf.sym} 1870 1130 0 0 {name=M16
L=4
W=0.65
nf=1 mult=2
model=pfet_g5v0d10v5
spiceprefix=X
}
