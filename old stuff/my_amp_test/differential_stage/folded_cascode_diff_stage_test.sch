v {xschem version=3.4.2 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
N -460 -890 -460 -870 {
lab=GND}
N -460 -990 -460 -950 {
lab=VDD}
N -380 -890 -380 -870 {
lab=GND}
N -380 -990 -380 -950 {
lab=#net1}
N -380 -870 -380 -850 {
lab=GND}
N -240 -880 -240 -860 {
lab=GND}
N -240 -980 -240 -940 {
lab=#net2}
N -240 -860 -240 -840 {
lab=GND}
N 1300 -1500 1300 -1480 {
lab=VDD}
N 1200 -1330 1300 -1330 {
lab=VDD}
N 1300 -1330 1410 -1330 {
lab=VDD}
N 1300 -1420 1300 -1390 {
lab=#net3}
N 1300 -1390 1410 -1390 {
lab=#net3}
N 1410 -1390 1410 -1360 {
lab=#net3}
N 1200 -1390 1300 -1390 {
lab=#net3}
N 1200 -1390 1200 -1360 {
lab=#net3}
N 1130 -1330 1160 -1330 {
lab=VIN}
N 1450 -1330 1490 -1330 {
lab=VB}
N 1710 -1630 1810 -1630 {
lab=VDD}
N 1810 -1650 1810 -1630 {
lab=VDD}
N 1810 -1630 1930 -1630 {
lab=VDD}
N 1920 -1600 1930 -1600 {
lab=VDD}
N 1920 -1630 1920 -1600 {
lab=VDD}
N 1710 -1600 1720 -1600 {
lab=VDD}
N 1720 -1630 1720 -1600 {
lab=VDD}
N 1710 -1570 1710 -1540 {
lab=#net4}
N 1710 -1510 1720 -1510 {
lab=#net4}
N 1720 -1540 1720 -1510 {
lab=#net4}
N 1710 -1540 1720 -1540 {
lab=#net4}
N 1920 -1510 1930 -1510 {
lab=#net5}
N 1920 -1540 1920 -1510 {
lab=#net5}
N 1920 -1540 1930 -1540 {
lab=#net5}
N 1930 -1570 1930 -1540 {
lab=#net5}
N 1710 -1480 1710 -1460 {
lab=VOUT+}
N 1930 -1480 1930 -1460 {
lab=VOUT-}
N 1710 -1430 1930 -1430 {
lab=GND}
N 1710 -1260 1710 -1240 {
lab=VA}
N 1930 -1260 1930 -1240 {
lab=#net6}
N 1710 -1150 1930 -1150 {
lab=GND}
N 1710 -1120 1710 -1100 {
lab=GND}
N 1710 -1100 1930 -1100 {
lab=GND}
N 1930 -1120 1930 -1100 {
lab=GND}
N 1820 -1100 1820 -1090 {
lab=GND}
N 1710 -1240 1710 -1180 {
lab=VA}
N 1930 -1240 1930 -1180 {
lab=#net6}
N 1200 -1210 1710 -1210 {
lab=VA}
N 1810 -1740 1810 -1730 {
lab=VDD}
N 1810 -1670 1810 -1650 {
lab=VDD}
N 1810 -1730 1810 -1670 {
lab=VDD}
N 1200 -1300 1200 -1270 {
lab=VA}
N 1200 -1270 1200 -1210 {
lab=VA}
N 1710 -1320 1710 -1260 {
lab=VA}
N 1710 -1400 1710 -1380 {
lab=VA}
N 1930 -1400 1930 -1260 {
lab=#net6}
N 1410 -1300 1410 -1290 {
lab=#net6}
N 1410 -1290 1930 -1290 {
lab=#net6}
N 1710 -1380 1710 -1320 {
lab=VA}
N -380 -1100 -380 -1050 {
lab=VIN}
N -240 -1120 -240 -1040 {
lab=VB}
N 640 -1210 750 -1210 {
lab=VN1}
N 790 -1210 860 -1210 {
lab=GND}
N 590 -1110 750 -1110 {
lab=VN2}
N 790 -1180 790 -1140 {
lab=#net7}
N 790 -1080 790 -1060 {
lab=GND}
N 790 -1110 860 -1110 {
lab=GND}
N 530 -1480 530 -1450 {
lab=VDD}
N 530 -1390 530 -1320 {
lab=VN1}
N 530 -1170 530 -1130 {
lab=#net8}
N 530 -1070 530 -1050 {
lab=GND}
N 450 -1100 530 -1100 {
lab=GND}
N 450 -1200 530 -1200 {
lab=GND}
N 530 -1260 530 -1230 {
lab=VN2}
N 530 -1340 640 -1340 {
lab=VN1}
N 640 -1340 640 -1200 {
lab=VN1}
N 570 -1200 640 -1200 {
lab=VN1}
N 570 -1100 590 -1100 {
lab=VN2}
N 590 -1240 590 -1100 {
lab=VN2}
N 530 -1240 590 -1240 {
lab=VN2}
N 790 -1630 790 -1600 {
lab=VDD}
N 730 -1390 770 -1390 {
lab=VDD}
N 790 -1540 790 -1510 {
lab=#net9}
N 790 -1450 790 -1420 {
lab=VP1}
N 780 -1480 790 -1480 {
lab=#net9}
N 780 -1510 780 -1480 {
lab=#net9}
N 780 -1510 790 -1510 {
lab=#net9}
N 780 -1570 790 -1570 {
lab=VDD}
N 780 -1600 780 -1570 {
lab=VDD}
N 780 -1600 790 -1600 {
lab=VDD}
N 860 -1570 860 -1440 {
lab=VP1}
N 790 -1440 860 -1440 {
lab=VP1}
N 830 -1570 860 -1570 {
lab=VP1}
N 830 -1480 830 -1350 {
lab=VP2}
N 790 -1350 830 -1350 {
lab=VP2}
N 790 -1360 790 -1350 {
lab=VP2}
N 790 -1350 790 -1330 {
lab=VP2}
N 790 -1270 790 -1240 {
lab=#net10}
N 2260 -1500 2290 -1500 {
lab=VOUT+}
N 2580 -1500 2600 -1500 {
lab=VOUT-}
N 2600 -1500 2610 -1500 {
lab=VOUT-}
N 2330 -1500 2540 -1500 {
lab=GND}
N 2370 -1620 2500 -1620 {
lab=#net11}
N 2320 -1620 2330 -1620 {
lab=VDD}
N 2320 -1650 2320 -1620 {
lab=VDD}
N 2320 -1650 2330 -1650 {
lab=VDD}
N 2330 -1670 2330 -1650 {
lab=VDD}
N 2330 -1670 2540 -1670 {
lab=VDD}
N 2540 -1670 2540 -1650 {
lab=VDD}
N 2540 -1620 2550 -1620 {
lab=VDD}
N 2550 -1650 2550 -1620 {
lab=VDD}
N 2540 -1650 2550 -1650 {
lab=VDD}
N 2330 -1590 2330 -1530 {
lab=VOUT2+}
N 2540 -1590 2540 -1530 {
lab=VOUT2-}
N 2330 -1470 2330 -1360 {
lab=GND}
N 2330 -1360 2530 -1360 {
lab=GND}
N 2530 -1360 2540 -1360 {
lab=GND}
N 2540 -1470 2540 -1360 {
lab=GND}
N 2190 -1540 2200 -1540 {
lab=#net12}
N 2130 -1540 2130 -1500 {
lab=VOUT+}
N 2260 -1540 2260 -1500 {
lab=VOUT+}
N 2130 -1500 2260 -1500 {
lab=VOUT+}
N 2670 -1550 2680 -1550 {
lab=#net13}
N 2540 -1550 2610 -1550 {
lab=VOUT2-}
N 2740 -1550 2740 -1500 {
lab=VOUT-}
N 2610 -1500 2740 -1500 {
lab=VOUT-}
C {devices/code.sym} -150 -1360 0 0 {name=spice only_toplevel=false
format="tcleval( @value )"
value="	
**************************************************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
*LIBs*********************************************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
*.lib $::SKYWATER_MODELS/sky130.lib.spice tt
* chose the corners in the corner file
* tt_mm for mismatch
* ss ff sf fs standart corners
* ll hh lh hl capacitor and resistors corners
* mc for total process variation including corners
**************************************************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
*Corners/montecarlo options***********************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
.TEMP 27
**************************************************************
**************************************************************
**************************************************************
**************************************************************  
*SIMULATION and Plots*****************************************
**************************************************************
**************************************************************
**************************************************************
**************************************************************
.control
save all
dc V2 0 5 0.001 
plot v(VOUT+) v(VOUT-) deriv(v(VOUT+)) deriv(v(VOUT-))
plot v(VOUT2+) v(VOUT2-) deriv(v(VOUT2+)) deriv(v(VOUT2-))
*plot v(VA)
*plot i(Vmeas)
ac dec 20 1 1000G 
plot db(v(VOUT+))
plot db(v(VOUT2+)) phase(v(VOUT+))
.endc
"}
C {sky130_fd_pr/corner.sym} -320 -1360 0 0 {name=CORNER only_toplevel=true corner=tt}
C {devices/lab_pin.sym} -460 -980 0 0 {name=p6 sig_type=std_logic lab=VDD}
C {devices/vsource.sym} -460 -920 0 0 {name=V1 value=5
}
C {devices/vsource.sym} -380 -920 0 0 {name=V2 value=2.5}
C {devices/gnd.sym} -460 -870 0 0 {name=l3 lab=GND}
C {devices/lab_pin.sym} -380 -1100 0 0 {name=p7 sig_type=std_logic lab=VIN
}
C {devices/gnd.sym} -380 -850 0 0 {name=l5 lab=GND}
C {devices/vsource.sym} -240 -910 0 0 {name=V6 value=2.5}
C {devices/gnd.sym} -240 -840 0 0 {name=l10 lab=GND}
C {devices/lab_pin.sym} -240 -1120 0 0 {name=p10 sig_type=std_logic lab=VB
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1430 -1330 0 1 {name=M6
L=1
W=100
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1180 -1330 0 0 {name=M7
L=1
W=100
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/isource.sym} 1300 -1450 0 0 {name=I1 value=50u}
C {devices/lab_pin.sym} 1300 -1500 1 0 {name=p12 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 1300 -1330 3 0 {name=p13 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 1130 -1330 0 0 {name=p14 sig_type=std_logic lab=VIN
}
C {devices/lab_pin.sym} 1490 -1330 0 1 {name=p15 sig_type=std_logic lab=VB
}
C {devices/lab_pin.sym} 1810 -1740 1 0 {name=p16 sig_type=std_logic lab=VDD}
C {devices/lab_pin.sym} 1670 -1600 0 0 {name=p17 sig_type=std_logic lab=VP1}
C {devices/lab_pin.sym} 1970 -1600 0 1 {name=p18 sig_type=std_logic lab=VP1}
C {devices/lab_pin.sym} 1670 -1510 0 0 {name=p19 sig_type=std_logic lab=VP2}
C {devices/lab_pin.sym} 1970 -1510 0 1 {name=p20 sig_type=std_logic lab=VP2}
C {devices/gnd.sym} 1820 -1430 0 0 {name=l9 lab=GND}
C {devices/gnd.sym} 1820 -1150 0 0 {name=l11 lab=GND}
C {devices/gnd.sym} 1820 -1090 0 0 {name=l12 lab=GND}
C {devices/lab_pin.sym} 1670 -1430 0 0 {name=p21 sig_type=std_logic lab=VN1}
C {devices/lab_pin.sym} 1970 -1430 2 0 {name=p22 sig_type=std_logic lab=VN1}
C {devices/lab_pin.sym} 1670 -1150 0 0 {name=p23 sig_type=std_logic lab=VN2}
C {devices/lab_pin.sym} 1970 -1150 0 1 {name=p24 sig_type=std_logic lab=VN2}
C {devices/lab_pin.sym} 1710 -1470 0 0 {name=p25 sig_type=std_logic lab=VOUT+}
C {devices/lab_pin.sym} 1930 -1470 0 1 {name=p26 sig_type=std_logic lab=VOUT-}
C {devices/lab_pin.sym} 1570 -1210 3 0 {name=p27 sig_type=std_logic lab=VA}
C {devices/vsource.sym} -380 -1020 0 0 {name=V4 value="ac 0.5 sin (0 100u 100k)"}
C {devices/vsource.sym} -240 -1010 2 1 {name=V3 value="ac 0.5 sin (0 100u 100k)"}
C {devices/gnd.sym} 860 -1210 0 0 {name=l7 lab=GND}
C {devices/gnd.sym} 790 -1060 0 0 {name=l8 lab=GND}
C {devices/gnd.sym} 860 -1110 0 0 {name=l1 lab=GND}
C {devices/isource.sym} 530 -1420 0 0 {name=I0 value=200u}
C {devices/lab_pin.sym} 530 -1480 0 0 {name=p3 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/res_high_po_2p85.sym} 530 -1290 0 0 {name=R2

L=50
model=res_high_po_2p85
spiceprefix=X
 mult=1}
C {devices/lab_pin.sym} 510 -1290 0 0 {name=p5 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 550 -1200 0 1 {name=M2
L=1
W=7
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 550 -1100 0 1 {name=M3
L=1.5
W=8
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/gnd.sym} 530 -1050 0 0 {name=l2 lab=GND}
C {devices/gnd.sym} 450 -1100 0 0 {name=l4 lab=GND}
C {devices/gnd.sym} 450 -1200 0 0 {name=l6 lab=GND}
C {devices/lab_pin.sym} 790 -1630 0 0 {name=p11 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 810 -1570 0 1 {name=M4
L=2
W=20
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 810 -1480 0 1 {name=M5
L=1
W=15
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/res_high_po_2p85.sym} 790 -1390 0 0 {name=R1

L=70
model=res_high_po_2p85
spiceprefix=X
 mult=1}
C {devices/lab_pin.sym} 730 -1390 0 0 {name=p1 sig_type=std_logic lab=VDD}
C {devices/ammeter.sym} 790 -1300 0 0 {name=Vmeas}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 770 -1210 0 0 {name=M1
L=1
W=7
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 770 -1110 0 0 {name=M9
L=1.5
W=8
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1690 -1600 0 0 {name=M8
L=2
W=40
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1690 -1510 0 0 {name=M11
L=2.5
W=30
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1950 -1600 0 1 {name=M10
L=2
W=40
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 1950 -1510 0 1 {name=M12
L=2.5
W=30
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 1690 -1430 0 0 {name=M13
L=0.5
W=40
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 1950 -1430 0 1 {name=M14
L=0.5
W=40
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 1690 -1150 0 0 {name=M15
L=1.5
W=16
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 1950 -1150 0 1 {name=M16
L=1.5
W=16
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 670 -1110 3 0 {name=p2 sig_type=std_logic lab=VN2}
C {devices/lab_pin.sym} 680 -1210 3 0 {name=p4 sig_type=std_logic lab=VN1}
C {devices/lab_pin.sym} 830 -1350 2 0 {name=p8 sig_type=std_logic lab=VP2}
C {devices/lab_pin.sym} 860 -1570 2 0 {name=p9 sig_type=std_logic lab=VP1}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 2310 -1500 0 0 {name=M17
L=2
W=20
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/nfet_g5v0d10v5.sym} 2560 -1500 0 1 {name=M18
L=2
W=20
nf=1 mult=1
model=nfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 2130 -1500 0 0 {name=p28 sig_type=std_logic lab=VOUT+}
C {devices/lab_pin.sym} 2740 -1500 0 1 {name=p29 sig_type=std_logic lab=VOUT-}
C {devices/gnd.sym} 2430 -1500 0 0 {name=l13 lab=GND}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2350 -1620 0 1 {name=M19
L=0.7
W=80
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {sky130_fd_pr/pfet_g5v0d10v5.sym} 2520 -1620 0 0 {name=M20
L=0.6
W=80
nf=1 mult=1
model=pfet_g5v0d10v5
spiceprefix=X
}
C {devices/lab_pin.sym} 2430 -1670 1 0 {name=p30 sig_type=std_logic lab=VDD}
C {devices/gnd.sym} 2440 -1360 0 0 {name=l14 lab=GND}
C {devices/lab_pin.sym} 2330 -1560 0 0 {name=p31 sig_type=std_logic lab=VOUT2+}
C {devices/lab_pin.sym} 2540 -1560 0 1 {name=p32 sig_type=std_logic lab=VOUT2-}
C {devices/vsource.sym} 2440 -1590 0 0 {name=V5 value=3.5}
C {devices/gnd.sym} 2440 -1560 0 0 {name=l15 lab=GND}
C {sky130_fd_pr/cap_mim_m3_2.sym} 2160 -1540 1 0 {name=C2 model=cap_mim_m3_2 W=10 L=1 MF=1 spiceprefix=X}
C {sky130_fd_pr/res_high_po_0p35.sym} 2230 -1540 3 0 {name=R6
L=2
model=res_high_po_0p35
spiceprefix=X
 mult=1}
C {devices/lab_pin.sym} 2230 -1520 0 0 {name=p33 sig_type=std_logic lab=VDD}
C {sky130_fd_pr/cap_mim_m3_2.sym} 2640 -1550 1 0 {name=C1 model=cap_mim_m3_2 W=10 L=1 MF=1 spiceprefix=X}
C {sky130_fd_pr/res_high_po_0p35.sym} 2710 -1550 3 0 {name=R3
L=2
model=res_high_po_0p35
spiceprefix=X
 mult=1}
C {devices/lab_pin.sym} 2710 -1530 0 0 {name=p34 sig_type=std_logic lab=VDD}
